{"ast":null,"code":"import absoluteUrl from \"next-absolute-url\";\nimport nookies from \"nookies\";\nimport fetch from \"isomorphic-unfetch\";\n\nasync function firebaseVerifyCookie(ctx) {\n  // Get cookies\n  const cookies = nookies.get(ctx); // Get absolute origin url\n\n  const {\n    origin\n  } = absoluteUrl(ctx.req); // Try to verify firebase token via API\n\n  return await fetch(origin + \"/api/auth\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      token: cookies.token\n    })\n  }).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return false;\n    }\n  });\n}\n\nexport default firebaseVerifyCookie;","map":null,"metadata":{},"sourceType":"module"}