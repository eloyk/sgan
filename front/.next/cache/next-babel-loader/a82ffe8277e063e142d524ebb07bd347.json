{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport Router from 'next/router';\nimport useRequest from '../../hooks/use-request';\n\nconst NuevaEmpresa = ({\n  usuarioActual\n}) => {\n  if (usuarioActual === null) {\n    return () => Router.push('/');\n  }\n\n  const {\n    0: animal,\n    1: updateAnimal\n  } = useState('');\n  const {\n    0: nombreEmpresa,\n    1: setNombreEmpresa\n  } = useState('');\n  const {\n    0: clasifEmpresa,\n    1: setClasifEmpresa\n  } = useState('');\n  const {\n    0: tipoEmpresa,\n    1: setTipoEmpresa\n  } = useState('');\n  const {\n    0: fundador,\n    1: setFundador\n  } = useState('');\n  const {\n    0: telefono,\n    1: setTelefono\n  } = useState('');\n  const {\n    0: emailEmpresa,\n    1: setEmailEmpresa\n  } = useState('');\n  const {\n    0: RNC,\n    1: setRNC\n  } = useState('');\n  let usuarioIdAlta;\n  let emailUsuarioAlta;\n  let CLASIFICACION_EMPRESA = ['Empresas industriales', 'Industrias básicas', 'Industrias de extracción', 'Industrias de bienes de capital', 'Industrias intermedias', 'Industria de bienes semiduraderos', 'Industria de bienes no duraderos', 'Las industrias de punta', 'Empresas comerciales'];\n  let TIPO_EMPRESA = ['Productos'];\n  const {\n    doRequest,\n    errores\n  } = useRequest({\n    url: '/api/empresa',\n    method: 'post',\n    body: {\n      nombreEmpresa,\n      clasifEmpresa,\n      tipoEmpresa,\n      fundador,\n      telefono,\n      emailEmpresa,\n      RNC,\n      usuarioIdAlta,\n      emailUsuarioAlta\n    },\n    onSuccess: () => Router.push('/empresa')\n  });\n\n  const onSubmit = event => {\n    event.preventDefault();\n    usuarioIdAlta = usuarioActual.id, emailUsuarioAlta = usuarioActual.email;\n    doRequest();\n  };\n\n  return __jsx(\"div\", null, __jsx(\"h1\", null, \"Crear empresa\"), __jsx(\"form\", {\n    onSubmit: onSubmit\n  }, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"nombre de la empresa\"), __jsx(\"input\", {\n    value: nombreEmpresa,\n    onChange: e => setNombreEmpresa(e.target.value),\n    className: \"form-control\"\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Clasificacion de la empresa\"), __jsx(\"select\", {\n    value: clasifEmpresa,\n    onChange: e => setClasifEmpresa(e.target.value),\n    onBlur: e => setClasifEmpresa(e.target.value),\n    className: \"custom-select\",\n    id: \"validationCustom04\",\n    required: true\n  }, __jsx(\"option\", {\n    selected: true,\n    disabled: true,\n    value: \"\"\n  }, \"Selecione la Clasificacion de su empresa\"), CLASIFICACION_EMPRESA.map(clEmpresa => __jsx(\"option\", {\n    key: clEmpresa,\n    value: clEmpresa\n  }, clEmpresa)))), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Tipo de empresa\"), __jsx(\"select\", {\n    value: tipoEmpresa,\n    onChange: e => setTipoEmpresa(e.target.value),\n    onBlur: e => setTipoEmpresa(e.target.value),\n    className: \"custom-select\",\n    id: \"validationCustom04\",\n    required: true\n  }, __jsx(\"option\", {\n    selected: true,\n    disabled: true,\n    value: \"\"\n  }, \"Selecione el tipo de empresa\"), TIPO_EMPRESA.map(tipEmpresa => __jsx(\"option\", {\n    key: tipEmpresa,\n    value: tipEmpresa\n  }, tipEmpresa)))), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Fundador\"), __jsx(\"input\", {\n    value: fundador,\n    onChange: e => setFundador(e.target.value),\n    className: \"form-control\"\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Telefono\"), __jsx(\"input\", {\n    value: telefono,\n    onChange: e => setTelefono(e.target.value),\n    className: \"form-control\"\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Email de la empresa\"), __jsx(\"input\", {\n    value: emailEmpresa,\n    onChange: e => setEmailEmpresa(e.target.value),\n    className: \"form-control\",\n    type: \"email\",\n    id: \"inputEmail\",\n    placeholder: \"Correo Electr\\xF3nico\"\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"RNC\"), __jsx(\"input\", {\n    value: RNC,\n    onChange: e => setRNC(e.target.value),\n    className: \"form-control\"\n  })), errores, __jsx(\"button\", {\n    className: \"btn btn-primary\"\n  }, \"Registrar\")));\n};\n\nNuevaEmpresa.getInitialProps = async (context, client, usuarioActual) => {\n  return usuarioActual;\n};\n\nexport default NuevaEmpresa;","map":null,"metadata":{},"sourceType":"module"}