{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Eloy\\\\Desktop\\\\sgan\\\\front\\\\src\\\\components\\\\layout\\\\part\\\\AsideBody.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Aside, Menu } from \"@panely/components\";\nimport { withRouter } from \"next/router\";\nimport SimpleBar from \"simplebar\";\nimport Link from \"next/link\";\nimport MENU from \"config/menu.config\";\n\nvar AsideBodyComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(AsideBodyComponent, _React$Component);\n\n  var _super = _createSuper(AsideBodyComponent);\n\n  function AsideBodyComponent(props) {\n    var _this;\n\n    _classCallCheck(this, AsideBodyComponent);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"setInitialState\", function () {\n      var states = {};\n      var submenuActive = []; // Loop the MENU object tree\n\n      MENU.forEach(function (menu, index1) {\n        // Check whether the node has child\n        if (Boolean(menu.child)) {\n          // Add data to states variables\n          states = _this.addDataToObject(states, [index1], {\n            active: true,\n            height: \"auto\",\n            hasChild: true\n          }); // Loop the second level child node\n\n          menu.child.forEach(function (menu, index2) {\n            // Check whether the node has child\n            if (Boolean(menu.child)) {\n              // Add data to states variables\n              states = _this.addDataToObject(states, [index1, index2], {\n                active: true,\n                height: \"auto\",\n                hasChild: true\n              }); // Loop the third level child node\n\n              menu.child.forEach(function (menu, index3) {\n                // Add data to states variables\n                states = _this.addDataToObject(states, [index1, index2, index3], {\n                  active: menu.link === _this.props.router.pathname,\n                  hasChild: false\n                }); // Add data to submenuActive variables\n\n                if (menu.link === _this.props.router.pathname) {\n                  submenuActive.push([index1, index2].join(\",\"));\n                  submenuActive.push([index1].join(\",\"));\n                }\n              });\n            } else {\n              // Add data to states variables\n              states = _this.addDataToObject(states, [index1, index2], {\n                active: menu.link === _this.props.router.pathname,\n                hasChild: false\n              }); // Add data to submenuActive variables\n\n              if (menu.link === _this.props.router.pathname) {\n                submenuActive.push([index1].join(\",\"));\n              }\n            }\n          });\n        } else {\n          // Add data to states variables\n          states = _this.addDataToObject(states, [index1], {\n            active: menu.link === _this.props.router.pathname,\n            hasChild: false\n          });\n        }\n      });\n      return {\n        states: states,\n        submenuActive: submenuActive\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleLinkClick\", function (selfRoute, parentRoute) {\n      var states = _this.state; // Check whether the link has child\n\n      if (states[selfRoute].hasChild) {\n        // Toggle active state\n        states[selfRoute].active = !states[selfRoute].active; // Check whether the link has parent\n\n        if (parentRoute.length > 0) {\n          var selfheight = states[selfRoute].height;\n          var parentHeight = states[parentRoute].height; // Adjust the parent elements height\n\n          if (states[selfRoute].active) {\n            states[parentRoute].height = parentHeight + selfheight;\n          } else {\n            states[parentRoute].height = parentHeight - selfheight;\n          }\n        }\n      } else {\n        // Deactivate all links\n        for (var _selfRoute in states) {\n          if (!states[_selfRoute].hasChild) {\n            states[_selfRoute].active = false;\n          }\n        } // Activate clicked link\n\n\n        states[selfRoute].active = true;\n      }\n\n      _this.setState(states);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addDataToObject\", function (object, identifier, value) {\n      return _objectSpread(_objectSpread({}, object), {}, _defineProperty({}, identifier, value));\n    });\n\n    var _this$setInitialState = _this.setInitialState(),\n        _states = _this$setInitialState.states,\n        _submenuActive = _this$setInitialState.submenuActive; // Set initial data\n\n\n    _this.linkRefs = [];\n    _this.submenuRefs = [];\n    _this.state = _states;\n    _this.submenuActive = _submenuActive;\n    _this.bodyRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(AsideBodyComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var states = this.state; // Loop submenu elements to set height and collapse it\n\n      this.submenuRefs.forEach(function (submenu) {\n        // Get submenu route\n        var selfRoute = submenu.getAttribute(\"data-route\").split(\",\"); // Set element height\n\n        states[selfRoute].height = submenu.offsetHeight; // Check whether submenu elements is active\n\n        if (_this2.submenuActive.includes(selfRoute.join(\",\"))) {\n          states[selfRoute].active = true;\n        } else {\n          states[selfRoute].active = false;\n        }\n      }); // Loop submenu elements to fix height data\n\n      this.submenuRefs.forEach(function (submenu) {\n        // Get submenu parent route\n        var parentRoute = submenu.getAttribute(\"data-route\").split(\",\");\n        parentRoute.pop(); // Check whether the submenu has parents\n\n        if (parentRoute.length > 0) {\n          var selfheight = submenu.offsetHeight;\n          var parentHeight = states[parentRoute].height; // Fix the element height\n\n          states[parentRoute].height = parentHeight - selfheight;\n        }\n      });\n      this.setState(states, function () {\n        // Initialize custom scrollbar\n        new SimpleBar(_this2.bodyRef.current);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(Aside.Body, {\n        innerRef: this.bodyRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 7\n        }\n      }, __jsx(Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }\n      }, MENU.map(function (menu, index1) {\n        // Set all variables needed\n        var Icon = menu.icon;\n        var parentRoute = [];\n        var selfRoute = [index1];\n        var hasChild = Boolean(menu.child);\n        var state = _this3.state[selfRoute]; // Check whether the node is a section\n\n        return menu.section ? __jsx(Menu.Section, {\n          key: index1,\n          children: menu.title,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }\n        }) : __jsx(Menu.Item, {\n          key: index1,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }\n        }, __jsx(AsideBodyMenuLink, {\n          key: index1,\n          \"data-level\": 0,\n          \"data-route\": selfRoute,\n          link: menu.link,\n          icon: Icon ? __jsx(Icon, {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 32\n            }\n          }) : false,\n          addon: menu.addon,\n          bullet: menu.bullet,\n          active: state.active,\n          hasChild: hasChild,\n          onClick: function onClick() {\n            return _this3.handleLinkClick(selfRoute, parentRoute);\n          },\n          innerRef: function innerRef(ref) {\n            return _this3.linkRefs.push(ref);\n          },\n          children: menu.title,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }\n        }), hasChild ? __jsx(Menu.Submenu, {\n          \"data-level\": 0,\n          \"data-route\": selfRoute,\n          active: state.active,\n          height: state.height,\n          innerRef: function innerRef(ref) {\n            return _this3.submenuRefs.push(ref);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 19\n          }\n        }, menu.child.map(function (menu, index2) {\n          // Set all variables needed\n          var Icon = menu.icon;\n          var parentRoute = [index1];\n          var selfRoute = [index1, index2];\n          var hasChild = Boolean(menu.child);\n          var state = _this3.state[selfRoute];\n          return __jsx(Menu.Item, {\n            key: index2,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 25\n            }\n          }, __jsx(AsideBodyMenuLink, {\n            key: index2,\n            \"data-route\": selfRoute,\n            \"data-level\": 1,\n            link: menu.link,\n            icon: Icon ? __jsx(Icon, {\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 42\n              }\n            }) : false,\n            addon: menu.addon,\n            bullet: menu.bullet,\n            active: state.active,\n            hasChild: hasChild,\n            onClick: function onClick() {\n              return _this3.handleLinkClick(selfRoute, parentRoute);\n            },\n            innerRef: function innerRef(ref) {\n              return _this3.linkRefs.push(ref);\n            },\n            children: menu.title,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 27\n            }\n          }), hasChild ? __jsx(Menu.Submenu, {\n            \"data-level\": 1,\n            \"data-route\": selfRoute,\n            active: state.active,\n            height: state.height,\n            innerRef: function innerRef(ref) {\n              return _this3.submenuRefs.push(ref);\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }\n          }, menu.child.map(function (menu, index3) {\n            // Set all variables needed\n            var Icon = menu.icon;\n            var parentRoute = [index1, index2];\n            var selfRoute = [index1, index2, index3];\n            var hasChild = Boolean(menu.child);\n            var state = _this3.state[selfRoute];\n            return __jsx(Menu.Item, {\n              key: index3,\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 35\n              }\n            }, __jsx(AsideBodyMenuLink, {\n              key: index3,\n              \"data-route\": selfRoute,\n              \"data-level\": 2,\n              link: menu.link,\n              icon: Icon ? __jsx(Icon, {\n                __self: _this3,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 52\n                }\n              }) : false,\n              addon: menu.addon,\n              bullet: menu.bullet,\n              active: state.active,\n              hasChild: hasChild,\n              onClick: function onClick() {\n                return _this3.handleLinkClick(selfRoute, parentRoute);\n              },\n              innerRef: function innerRef(ref) {\n                return _this3.linkRefs.push(ref);\n              },\n              children: menu.title,\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 37\n              }\n            }));\n          })) : null);\n        })) : null);\n      })));\n    }\n  }]);\n\n  return AsideBodyComponent;\n}(React.Component);\n\nfunction AsideBodyMenuLink(props) {\n  var _this4 = this;\n\n  var hasChild = props.hasChild,\n      link = props.link,\n      attributes = _objectWithoutProperties(props, [\"hasChild\", \"link\"]);\n\n  var MenuLink = React.forwardRef(function (props, ref) {\n    return __jsx(Menu.Link, _extends({}, props, {\n      innerRef: ref,\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 53\n      }\n    }));\n  });\n  return hasChild ? __jsx(Menu.Link, _extends({\n    tag: \"button\"\n  }, attributes, {\n    caret: true,\n    toggle: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 5\n    }\n  })) : __jsx(Link, {\n    href: link,\n    passHref: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 5\n    }\n  }, __jsx(MenuLink, _extends({}, attributes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }\n  })));\n}\n\n_c = AsideBodyMenuLink;\nexport default _c2 = withRouter(AsideBodyComponent);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AsideBodyMenuLink\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/Eloy/Desktop/sgan/front/src/components/layout/part/AsideBody.jsx"],"names":["Aside","Menu","withRouter","SimpleBar","Link","MENU","AsideBodyComponent","props","states","submenuActive","forEach","menu","index1","Boolean","child","addDataToObject","active","height","hasChild","index2","index3","link","router","pathname","push","join","selfRoute","parentRoute","state","length","selfheight","parentHeight","setState","object","identifier","value","setInitialState","linkRefs","submenuRefs","bodyRef","React","createRef","submenu","getAttribute","split","offsetHeight","includes","pop","current","map","Icon","icon","section","title","addon","bullet","handleLinkClick","ref","Component","AsideBodyMenuLink","attributes","MenuLink","forwardRef"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,KAAT,EAAgBC,IAAhB,QAA4B,oBAA5B;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;IAEMC,kB;;;;;AACJ,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,sEAaD,YAAM;AACtB,UAAIC,MAAM,GAAG,EAAb;AACA,UAAIC,aAAa,GAAG,EAApB,CAFsB,CAItB;;AACAJ,MAAAA,IAAI,CAACK,OAAL,CAAa,UAACC,IAAD,EAAOC,MAAP,EAAkB;AAC7B;AACA,YAAIC,OAAO,CAACF,IAAI,CAACG,KAAN,CAAX,EAAyB;AACvB;AACAN,UAAAA,MAAM,GAAG,MAAKO,eAAL,CAAqBP,MAArB,EAA6B,CAACI,MAAD,CAA7B,EAAuC;AAC9CI,YAAAA,MAAM,EAAE,IADsC;AAE9CC,YAAAA,MAAM,EAAE,MAFsC;AAG9CC,YAAAA,QAAQ,EAAE;AAHoC,WAAvC,CAAT,CAFuB,CAQvB;;AACAP,UAAAA,IAAI,CAACG,KAAL,CAAWJ,OAAX,CAAmB,UAACC,IAAD,EAAOQ,MAAP,EAAkB;AACnC;AACA,gBAAIN,OAAO,CAACF,IAAI,CAACG,KAAN,CAAX,EAAyB;AACvB;AACAN,cAAAA,MAAM,GAAG,MAAKO,eAAL,CAAqBP,MAArB,EAA6B,CAACI,MAAD,EAASO,MAAT,CAA7B,EAA+C;AACtDH,gBAAAA,MAAM,EAAE,IAD8C;AAEtDC,gBAAAA,MAAM,EAAE,MAF8C;AAGtDC,gBAAAA,QAAQ,EAAE;AAH4C,eAA/C,CAAT,CAFuB,CAQvB;;AACAP,cAAAA,IAAI,CAACG,KAAL,CAAWJ,OAAX,CAAmB,UAACC,IAAD,EAAOS,MAAP,EAAkB;AACnC;AACAZ,gBAAAA,MAAM,GAAG,MAAKO,eAAL,CAAqBP,MAArB,EAA6B,CAACI,MAAD,EAASO,MAAT,EAAiBC,MAAjB,CAA7B,EAAuD;AAC9DJ,kBAAAA,MAAM,EAAEL,IAAI,CAACU,IAAL,KAAc,MAAKd,KAAL,CAAWe,MAAX,CAAkBC,QADsB;AAE9DL,kBAAAA,QAAQ,EAAE;AAFoD,iBAAvD,CAAT,CAFmC,CAOnC;;AACA,oBAAIP,IAAI,CAACU,IAAL,KAAc,MAAKd,KAAL,CAAWe,MAAX,CAAkBC,QAApC,EAA8C;AAC5Cd,kBAAAA,aAAa,CAACe,IAAd,CAAmB,CAACZ,MAAD,EAASO,MAAT,EAAiBM,IAAjB,CAAsB,GAAtB,CAAnB;AACAhB,kBAAAA,aAAa,CAACe,IAAd,CAAmB,CAACZ,MAAD,EAASa,IAAT,CAAc,GAAd,CAAnB;AACD;AACF,eAZD;AAaD,aAtBD,MAsBO;AACL;AACAjB,cAAAA,MAAM,GAAG,MAAKO,eAAL,CAAqBP,MAArB,EAA6B,CAACI,MAAD,EAASO,MAAT,CAA7B,EAA+C;AACtDH,gBAAAA,MAAM,EAAEL,IAAI,CAACU,IAAL,KAAc,MAAKd,KAAL,CAAWe,MAAX,CAAkBC,QADc;AAEtDL,gBAAAA,QAAQ,EAAE;AAF4C,eAA/C,CAAT,CAFK,CAOL;;AACA,kBAAIP,IAAI,CAACU,IAAL,KAAc,MAAKd,KAAL,CAAWe,MAAX,CAAkBC,QAApC,EAA8C;AAC5Cd,gBAAAA,aAAa,CAACe,IAAd,CAAmB,CAACZ,MAAD,EAASa,IAAT,CAAc,GAAd,CAAnB;AACD;AACF;AACF,WApCD;AAqCD,SA9CD,MA8CO;AACL;AACAjB,UAAAA,MAAM,GAAG,MAAKO,eAAL,CAAqBP,MAArB,EAA6B,CAACI,MAAD,CAA7B,EAAuC;AAC9CI,YAAAA,MAAM,EAAEL,IAAI,CAACU,IAAL,KAAc,MAAKd,KAAL,CAAWe,MAAX,CAAkBC,QADM;AAE9CL,YAAAA,QAAQ,EAAE;AAFoC,WAAvC,CAAT;AAID;AACF,OAvDD;AAyDA,aAAO;AAAEV,QAAAA,MAAM,EAANA,MAAF;AAAUC,QAAAA,aAAa,EAAbA;AAAV,OAAP;AACD,KA5EkB;;AAAA,sEA8ED,UAACiB,SAAD,EAAYC,WAAZ,EAA4B;AAC5C,UAAInB,MAAM,GAAG,MAAKoB,KAAlB,CAD4C,CAG5C;;AACA,UAAIpB,MAAM,CAACkB,SAAD,CAAN,CAAkBR,QAAtB,EAAgC;AAC9B;AACAV,QAAAA,MAAM,CAACkB,SAAD,CAAN,CAAkBV,MAAlB,GAA2B,CAACR,MAAM,CAACkB,SAAD,CAAN,CAAkBV,MAA9C,CAF8B,CAI9B;;AACA,YAAIW,WAAW,CAACE,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B,cAAIC,UAAU,GAAGtB,MAAM,CAACkB,SAAD,CAAN,CAAkBT,MAAnC;AACA,cAAIc,YAAY,GAAGvB,MAAM,CAACmB,WAAD,CAAN,CAAoBV,MAAvC,CAF0B,CAI1B;;AACA,cAAIT,MAAM,CAACkB,SAAD,CAAN,CAAkBV,MAAtB,EAA8B;AAC5BR,YAAAA,MAAM,CAACmB,WAAD,CAAN,CAAoBV,MAApB,GAA6Bc,YAAY,GAAGD,UAA5C;AACD,WAFD,MAEO;AACLtB,YAAAA,MAAM,CAACmB,WAAD,CAAN,CAAoBV,MAApB,GAA6Bc,YAAY,GAAGD,UAA5C;AACD;AACF;AACF,OAhBD,MAgBO;AACL;AACA,aAAK,IAAMJ,UAAX,IAAwBlB,MAAxB,EAAgC;AAC9B,cAAI,CAACA,MAAM,CAACkB,UAAD,CAAN,CAAkBR,QAAvB,EAAiC;AAC/BV,YAAAA,MAAM,CAACkB,UAAD,CAAN,CAAkBV,MAAlB,GAA2B,KAA3B;AACD;AACF,SANI,CAQL;;;AACAR,QAAAA,MAAM,CAACkB,SAAD,CAAN,CAAkBV,MAAlB,GAA2B,IAA3B;AACD;;AAED,YAAKgB,QAAL,CAAcxB,MAAd;AACD,KA/GkB;;AAAA,sEAiHD,UAACyB,MAAD,EAASC,UAAT,EAAqBC,KAArB,EAA+B;AAC/C,6CACKF,MADL,2BAEGC,UAFH,EAEgBC,KAFhB;AAID,KAtHkB;;AAAA,gCAGiB,MAAKC,eAAL,EAHjB;AAAA,QAGT5B,OAHS,yBAGTA,MAHS;AAAA,QAGDC,cAHC,yBAGDA,aAHC,EAKjB;;;AACA,UAAK4B,QAAL,GAAgB,EAAhB;AACA,UAAKC,WAAL,GAAmB,EAAnB;AACA,UAAKV,KAAL,GAAapB,OAAb;AACA,UAAKC,aAAL,GAAqBA,cAArB;AACA,UAAK8B,OAAL,GAAeC,KAAK,CAACC,SAAN,EAAf;AAViB;AAWlB;;;;WA6GD,6BAAoB;AAAA;;AAClB,UAAIjC,MAAM,GAAG,KAAKoB,KAAlB,CADkB,CAGlB;;AACA,WAAKU,WAAL,CAAiB5B,OAAjB,CAAyB,UAAAgC,OAAO,EAAI;AAClC;AACA,YAAIhB,SAAS,GAAGgB,OAAO,CAACC,YAAR,CAAqB,YAArB,EAAmCC,KAAnC,CAAyC,GAAzC,CAAhB,CAFkC,CAIlC;;AACApC,QAAAA,MAAM,CAACkB,SAAD,CAAN,CAAkBT,MAAlB,GAA2ByB,OAAO,CAACG,YAAnC,CALkC,CAOlC;;AACA,YAAI,MAAI,CAACpC,aAAL,CAAmBqC,QAAnB,CAA4BpB,SAAS,CAACD,IAAV,CAAe,GAAf,CAA5B,CAAJ,EAAsD;AACpDjB,UAAAA,MAAM,CAACkB,SAAD,CAAN,CAAkBV,MAAlB,GAA2B,IAA3B;AACD,SAFD,MAEO;AACLR,UAAAA,MAAM,CAACkB,SAAD,CAAN,CAAkBV,MAAlB,GAA2B,KAA3B;AACD;AACF,OAbD,EAJkB,CAmBlB;;AACA,WAAKsB,WAAL,CAAiB5B,OAAjB,CAAyB,UAAAgC,OAAO,EAAI;AAClC;AACA,YAAIf,WAAW,GAAGe,OAAO,CAACC,YAAR,CAAqB,YAArB,EAAmCC,KAAnC,CAAyC,GAAzC,CAAlB;AACAjB,QAAAA,WAAW,CAACoB,GAAZ,GAHkC,CAKlC;;AACA,YAAIpB,WAAW,CAACE,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B,cAAIC,UAAU,GAAGY,OAAO,CAACG,YAAzB;AACA,cAAId,YAAY,GAAGvB,MAAM,CAACmB,WAAD,CAAN,CAAoBV,MAAvC,CAF0B,CAI1B;;AACAT,UAAAA,MAAM,CAACmB,WAAD,CAAN,CAAoBV,MAApB,GAA6Bc,YAAY,GAAGD,UAA5C;AACD;AACF,OAbD;AAeA,WAAKE,QAAL,CAAcxB,MAAd,EAAsB,YAAM;AAC1B;AACA,YAAIL,SAAJ,CAAc,MAAI,CAACoC,OAAL,CAAaS,OAA3B;AACD,OAHD;AAID;;;WAED,kBAAS;AAAA;;AACP,aACE,MAAC,KAAD,CAAO,IAAP;AAAY,QAAA,QAAQ,EAAE,KAAKT,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEGlC,IAAI,CAAC4C,GAAL,CAAS,UAACtC,IAAD,EAAOC,MAAP,EAAkB;AAC1B;AACA,YAAIsC,IAAI,GAAGvC,IAAI,CAACwC,IAAhB;AACA,YAAIxB,WAAW,GAAG,EAAlB;AACA,YAAID,SAAS,GAAG,CAACd,MAAD,CAAhB;AACA,YAAIM,QAAQ,GAAGL,OAAO,CAACF,IAAI,CAACG,KAAN,CAAtB;AACA,YAAIc,KAAK,GAAG,MAAI,CAACA,KAAL,CAAWF,SAAX,CAAZ,CAN0B,CAQ1B;;AACA,eAAOf,IAAI,CAACyC,OAAL,GACL,MAAC,IAAD,CAAM,OAAN;AAAc,UAAA,GAAG,EAAExC,MAAnB;AAA2B,UAAA,QAAQ,EAAED,IAAI,CAAC0C,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADK,GAGL,MAAC,IAAD,CAAM,IAAN;AAAW,UAAA,GAAG,EAAEzC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,iBAAD;AACE,UAAA,GAAG,EAAEA,MADP;AAEE,wBAAY,CAFd;AAGE,wBAAYc,SAHd;AAIE,UAAA,IAAI,EAAEf,IAAI,CAACU,IAJb;AAKE,UAAA,IAAI,EAAE6B,IAAI,GAAG,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAH,GAAc,KAL1B;AAME,UAAA,KAAK,EAAEvC,IAAI,CAAC2C,KANd;AAOE,UAAA,MAAM,EAAE3C,IAAI,CAAC4C,MAPf;AAQE,UAAA,MAAM,EAAE3B,KAAK,CAACZ,MARhB;AASE,UAAA,QAAQ,EAAEE,QATZ;AAUE,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACsC,eAAL,CAAqB9B,SAArB,EAAgCC,WAAhC,CAAN;AAAA,WAVX;AAWE,UAAA,QAAQ,EAAE,kBAAA8B,GAAG;AAAA,mBAAI,MAAI,CAACpB,QAAL,CAAcb,IAAd,CAAmBiC,GAAnB,CAAJ;AAAA,WAXf;AAYE,UAAA,QAAQ,EAAE9C,IAAI,CAAC0C,KAZjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAiBGnC,QAAQ,GACP,MAAC,IAAD,CAAM,OAAN;AACE,wBAAY,CADd;AAEE,wBAAYQ,SAFd;AAGE,UAAA,MAAM,EAAEE,KAAK,CAACZ,MAHhB;AAIE,UAAA,MAAM,EAAEY,KAAK,CAACX,MAJhB;AAKE,UAAA,QAAQ,EAAE,kBAAAwC,GAAG;AAAA,mBAAI,MAAI,CAACnB,WAAL,CAAiBd,IAAjB,CAAsBiC,GAAtB,CAAJ;AAAA,WALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQG9C,IAAI,CAACG,KAAL,CAAWmC,GAAX,CAAe,UAACtC,IAAD,EAAOQ,MAAP,EAAkB;AAChC;AACA,cAAI+B,IAAI,GAAGvC,IAAI,CAACwC,IAAhB;AACA,cAAIxB,WAAW,GAAG,CAACf,MAAD,CAAlB;AACA,cAAIc,SAAS,GAAG,CAACd,MAAD,EAASO,MAAT,CAAhB;AACA,cAAID,QAAQ,GAAGL,OAAO,CAACF,IAAI,CAACG,KAAN,CAAtB;AACA,cAAIc,KAAK,GAAG,MAAI,CAACA,KAAL,CAAWF,SAAX,CAAZ;AAEA,iBACE,MAAC,IAAD,CAAM,IAAN;AAAW,YAAA,GAAG,EAAEP,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,MAAC,iBAAD;AACE,YAAA,GAAG,EAAEA,MADP;AAEE,0BAAYO,SAFd;AAGE,0BAAY,CAHd;AAIE,YAAA,IAAI,EAAEf,IAAI,CAACU,IAJb;AAKE,YAAA,IAAI,EAAE6B,IAAI,GAAG,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAH,GAAc,KAL1B;AAME,YAAA,KAAK,EAAEvC,IAAI,CAAC2C,KANd;AAOE,YAAA,MAAM,EAAE3C,IAAI,CAAC4C,MAPf;AAQE,YAAA,MAAM,EAAE3B,KAAK,CAACZ,MARhB;AASE,YAAA,QAAQ,EAAEE,QATZ;AAUE,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAI,CAACsC,eAAL,CAAqB9B,SAArB,EAAgCC,WAAhC,CAAN;AAAA,aAVX;AAWE,YAAA,QAAQ,EAAE,kBAAA8B,GAAG;AAAA,qBAAI,MAAI,CAACpB,QAAL,CAAcb,IAAd,CAAmBiC,GAAnB,CAAJ;AAAA,aAXf;AAYE,YAAA,QAAQ,EAAE9C,IAAI,CAAC0C,KAZjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAiBGnC,QAAQ,GACP,MAAC,IAAD,CAAM,OAAN;AACE,0BAAY,CADd;AAEE,0BAAYQ,SAFd;AAGE,YAAA,MAAM,EAAEE,KAAK,CAACZ,MAHhB;AAIE,YAAA,MAAM,EAAEY,KAAK,CAACX,MAJhB;AAKE,YAAA,QAAQ,EAAE,kBAAAwC,GAAG;AAAA,qBAAI,MAAI,CAACnB,WAAL,CAAiBd,IAAjB,CAAsBiC,GAAtB,CAAJ;AAAA,aALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAQG9C,IAAI,CAACG,KAAL,CAAWmC,GAAX,CAAe,UAACtC,IAAD,EAAOS,MAAP,EAAkB;AAChC;AACA,gBAAI8B,IAAI,GAAGvC,IAAI,CAACwC,IAAhB;AACA,gBAAIxB,WAAW,GAAG,CAACf,MAAD,EAASO,MAAT,CAAlB;AACA,gBAAIO,SAAS,GAAG,CAACd,MAAD,EAASO,MAAT,EAAiBC,MAAjB,CAAhB;AACA,gBAAIF,QAAQ,GAAGL,OAAO,CAACF,IAAI,CAACG,KAAN,CAAtB;AACA,gBAAIc,KAAK,GAAG,MAAI,CAACA,KAAL,CAAWF,SAAX,CAAZ;AAEA,mBACE,MAAC,IAAD,CAAM,IAAN;AAAW,cAAA,GAAG,EAAEN,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACE,MAAC,iBAAD;AACE,cAAA,GAAG,EAAEA,MADP;AAEE,4BAAYM,SAFd;AAGE,4BAAY,CAHd;AAIE,cAAA,IAAI,EAAEf,IAAI,CAACU,IAJb;AAKE,cAAA,IAAI,EAAE6B,IAAI,GAAG,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAH,GAAc,KAL1B;AAME,cAAA,KAAK,EAAEvC,IAAI,CAAC2C,KANd;AAOE,cAAA,MAAM,EAAE3C,IAAI,CAAC4C,MAPf;AAQE,cAAA,MAAM,EAAE3B,KAAK,CAACZ,MARhB;AASE,cAAA,QAAQ,EAAEE,QATZ;AAUE,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAI,CAACsC,eAAL,CAAqB9B,SAArB,EAAgCC,WAAhC,CAAN;AAAA,eAVX;AAWE,cAAA,QAAQ,EAAE,kBAAA8B,GAAG;AAAA,uBAAI,MAAI,CAACpB,QAAL,CAAcb,IAAd,CAAmBiC,GAAnB,CAAJ;AAAA,eAXf;AAYE,cAAA,QAAQ,EAAE9C,IAAI,CAAC0C,KAZjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF;AAkBD,WA1BA,CARH,CADO,GAqCL,IAtDN,CADF;AA0DD,SAlEA,CARH,CADO,GA6EL,IA9FN,CAHF;AAoGD,OA7GA,CAFH,CADF,CADF;AAqHD;;;;EAxR8Bb,KAAK,CAACkB,S;;AA2RvC,SAASC,iBAAT,CAA2BpD,KAA3B,EAAkC;AAAA;;AAAA,MACxBW,QADwB,GACUX,KADV,CACxBW,QADwB;AAAA,MACdG,IADc,GACUd,KADV,CACdc,IADc;AAAA,MACLuC,UADK,4BACUrD,KADV;;AAEhC,MAAMsD,QAAQ,GAAGrB,KAAK,CAACsB,UAAN,CAAiB,UAACvD,KAAD,EAAQkD,GAAR;AAAA,WAAgB,MAAC,IAAD,CAAM,IAAN,eAAelD,KAAf;AAAsB,MAAA,QAAQ,EAAEkD,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAhB;AAAA,GAAjB,CAAjB;AAEA,SAAOvC,QAAQ,GACb,MAAC,IAAD,CAAM,IAAN;AAAW,IAAA,GAAG,EAAC;AAAf,KAA4B0C,UAA5B;AAAwC,IAAA,KAAK,MAA7C;AAA8C,IAAA,MAAM,MAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADa,GAGb,MAAC,IAAD;AAAM,IAAA,IAAI,EAAEvC,IAAZ;AAAkB,IAAA,QAAQ,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD,eAAcuC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,CAHF;AAOD;;KAXQD,iB;AAaT,qBAAezD,UAAU,CAACI,kBAAD,CAAzB","sourcesContent":["import { Aside, Menu } from \"@panely/components\"\nimport { withRouter } from \"next/router\"\nimport SimpleBar from \"simplebar\"\nimport Link from \"next/link\"\nimport MENU from \"config/menu.config\"\n\nclass AsideBodyComponent extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const { states, submenuActive } = this.setInitialState()\n\n    // Set initial data\n    this.linkRefs = []\n    this.submenuRefs = []\n    this.state = states\n    this.submenuActive = submenuActive\n    this.bodyRef = React.createRef()\n  }\n\n  setInitialState = () => {\n    let states = {}\n    let submenuActive = []\n\n    // Loop the MENU object tree\n    MENU.forEach((menu, index1) => {\n      // Check whether the node has child\n      if (Boolean(menu.child)) {\n        // Add data to states variables\n        states = this.addDataToObject(states, [index1], {\n          active: true,\n          height: \"auto\",\n          hasChild: true\n        })\n\n        // Loop the second level child node\n        menu.child.forEach((menu, index2) => {\n          // Check whether the node has child\n          if (Boolean(menu.child)) {\n            // Add data to states variables\n            states = this.addDataToObject(states, [index1, index2], {\n              active: true,\n              height: \"auto\",\n              hasChild: true\n            })\n\n            // Loop the third level child node\n            menu.child.forEach((menu, index3) => {\n              // Add data to states variables\n              states = this.addDataToObject(states, [index1, index2, index3], {\n                active: menu.link === this.props.router.pathname,\n                hasChild: false\n              })\n\n              // Add data to submenuActive variables\n              if (menu.link === this.props.router.pathname) {\n                submenuActive.push([index1, index2].join(\",\"))\n                submenuActive.push([index1].join(\",\"))\n              }\n            })\n          } else {\n            // Add data to states variables\n            states = this.addDataToObject(states, [index1, index2], {\n              active: menu.link === this.props.router.pathname,\n              hasChild: false\n            })\n\n            // Add data to submenuActive variables\n            if (menu.link === this.props.router.pathname) {\n              submenuActive.push([index1].join(\",\"))\n            }\n          }\n        })\n      } else {\n        // Add data to states variables\n        states = this.addDataToObject(states, [index1], {\n          active: menu.link === this.props.router.pathname,\n          hasChild: false\n        })\n      }\n    })\n\n    return { states, submenuActive }\n  }\n\n  handleLinkClick = (selfRoute, parentRoute) => {\n    let states = this.state\n\n    // Check whether the link has child\n    if (states[selfRoute].hasChild) {\n      // Toggle active state\n      states[selfRoute].active = !states[selfRoute].active\n\n      // Check whether the link has parent\n      if (parentRoute.length > 0) {\n        let selfheight = states[selfRoute].height\n        let parentHeight = states[parentRoute].height\n\n        // Adjust the parent elements height\n        if (states[selfRoute].active) {\n          states[parentRoute].height = parentHeight + selfheight\n        } else {\n          states[parentRoute].height = parentHeight - selfheight\n        }\n      }\n    } else {\n      // Deactivate all links\n      for (const selfRoute in states) {\n        if (!states[selfRoute].hasChild) {\n          states[selfRoute].active = false\n        }\n      }\n\n      // Activate clicked link\n      states[selfRoute].active = true\n    }\n\n    this.setState(states)\n  }\n\n  addDataToObject = (object, identifier, value) => {\n    return {\n      ...object,\n      [identifier]: value\n    }\n  }\n\n  componentDidMount() {\n    let states = this.state\n\n    // Loop submenu elements to set height and collapse it\n    this.submenuRefs.forEach(submenu => {\n      // Get submenu route\n      let selfRoute = submenu.getAttribute(\"data-route\").split(\",\")\n\n      // Set element height\n      states[selfRoute].height = submenu.offsetHeight\n\n      // Check whether submenu elements is active\n      if (this.submenuActive.includes(selfRoute.join(\",\"))) {\n        states[selfRoute].active = true\n      } else {\n        states[selfRoute].active = false\n      }\n    })\n\n    // Loop submenu elements to fix height data\n    this.submenuRefs.forEach(submenu => {\n      // Get submenu parent route\n      let parentRoute = submenu.getAttribute(\"data-route\").split(\",\")\n      parentRoute.pop()\n\n      // Check whether the submenu has parents\n      if (parentRoute.length > 0) {\n        let selfheight = submenu.offsetHeight\n        let parentHeight = states[parentRoute].height\n\n        // Fix the element height\n        states[parentRoute].height = parentHeight - selfheight\n      }\n    })\n\n    this.setState(states, () => {\n      // Initialize custom scrollbar\n      new SimpleBar(this.bodyRef.current)\n    })\n  }\n\n  render() {\n    return (\n      <Aside.Body innerRef={this.bodyRef}>\n        <Menu>\n          {/* Loop MENU object tree */}\n          {MENU.map((menu, index1) => {\n            // Set all variables needed\n            let Icon = menu.icon\n            let parentRoute = []\n            let selfRoute = [index1]\n            let hasChild = Boolean(menu.child)\n            let state = this.state[selfRoute]\n\n            // Check whether the node is a section\n            return menu.section ? (\n              <Menu.Section key={index1} children={menu.title} />\n            ) : (\n              <Menu.Item key={index1}>\n                <AsideBodyMenuLink\n                  key={index1}\n                  data-level={0}\n                  data-route={selfRoute}\n                  link={menu.link}\n                  icon={Icon ? <Icon /> : false}\n                  addon={menu.addon}\n                  bullet={menu.bullet}\n                  active={state.active}\n                  hasChild={hasChild}\n                  onClick={() => this.handleLinkClick(selfRoute, parentRoute)}\n                  innerRef={ref => this.linkRefs.push(ref)}\n                  children={menu.title}\n                />\n\n                {/* Check whether the node has child */}\n                {hasChild ? (\n                  <Menu.Submenu\n                    data-level={0}\n                    data-route={selfRoute}\n                    active={state.active}\n                    height={state.height}\n                    innerRef={ref => this.submenuRefs.push(ref)}\n                  >\n                    {/* Loop the second level MENU object tree */}\n                    {menu.child.map((menu, index2) => {\n                      // Set all variables needed\n                      let Icon = menu.icon\n                      let parentRoute = [index1]\n                      let selfRoute = [index1, index2]\n                      let hasChild = Boolean(menu.child)\n                      let state = this.state[selfRoute]\n\n                      return (\n                        <Menu.Item key={index2}>\n                          <AsideBodyMenuLink\n                            key={index2}\n                            data-route={selfRoute}\n                            data-level={1}\n                            link={menu.link}\n                            icon={Icon ? <Icon /> : false}\n                            addon={menu.addon}\n                            bullet={menu.bullet}\n                            active={state.active}\n                            hasChild={hasChild}\n                            onClick={() => this.handleLinkClick(selfRoute, parentRoute)}\n                            innerRef={ref => this.linkRefs.push(ref)}\n                            children={menu.title}\n                          />\n\n                          {/* Check whether the node has child */}\n                          {hasChild ? (\n                            <Menu.Submenu\n                              data-level={1}\n                              data-route={selfRoute}\n                              active={state.active}\n                              height={state.height}\n                              innerRef={ref => this.submenuRefs.push(ref)}\n                            >\n                              {/* Loop the third level MENU object tree */}\n                              {menu.child.map((menu, index3) => {\n                                // Set all variables needed\n                                let Icon = menu.icon\n                                let parentRoute = [index1, index2]\n                                let selfRoute = [index1, index2, index3]\n                                let hasChild = Boolean(menu.child)\n                                let state = this.state[selfRoute]\n\n                                return (\n                                  <Menu.Item key={index3}>\n                                    <AsideBodyMenuLink\n                                      key={index3}\n                                      data-route={selfRoute}\n                                      data-level={2}\n                                      link={menu.link}\n                                      icon={Icon ? <Icon /> : false}\n                                      addon={menu.addon}\n                                      bullet={menu.bullet}\n                                      active={state.active}\n                                      hasChild={hasChild}\n                                      onClick={() => this.handleLinkClick(selfRoute, parentRoute)}\n                                      innerRef={ref => this.linkRefs.push(ref)}\n                                      children={menu.title}\n                                    />\n                                  </Menu.Item>\n                                )\n                              })}\n                            </Menu.Submenu>\n                          ) : null}\n                        </Menu.Item>\n                      )\n                    })}\n                  </Menu.Submenu>\n                ) : null}\n              </Menu.Item>\n            )\n          })}\n        </Menu>\n      </Aside.Body>\n    )\n  }\n}\n\nfunction AsideBodyMenuLink(props) {\n  const { hasChild, link, ...attributes } = props\n  const MenuLink = React.forwardRef((props, ref) => <Menu.Link {...props} innerRef={ref} />)\n\n  return hasChild ? (\n    <Menu.Link tag=\"button\" {...attributes} caret toggle />\n  ) : (\n    <Link href={link} passHref>\n      <MenuLink {...attributes} />\n    </Link>\n  )\n}\n\nexport default withRouter(AsideBodyComponent)\n"]},"metadata":{},"sourceType":"module"}