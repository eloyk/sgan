{"ast":null,"code":"import Router from \"next/router\";\nimport doRequest from \"../api/do-request\";\nimport PAGE from \"config/page.config\";\n\nconst login = async (email, password, {\n  onSuccess\n}) => {\n  await doRequest({\n    url: '/api/usuario/iniciarsesion',\n    method: 'post',\n    body: {\n      email,\n      password\n    }\n  }).then(() => {\n    if (onSuccess) {\n      onSuccess();\n    } else {\n      () => Router.push(Router.query.redirect || PAGE.dashboardPagePath);\n    }\n  }).catch(err => {\n    throw err;\n  });\n};\n\nconst register = async (email, password, {\n  onSuccess\n}) => {\n  await doRequest({\n    url: '/api/usuario/registrousuario',\n    method: 'post',\n    body: {\n      email,\n      password\n    }\n  }).then(() => {\n    if (onSuccess) {\n      onSuccess();\n    } else {\n      () => Router.push(Router.query.redirect || PAGE.dashboardPagePath);\n    }\n  }).catch(err => {\n    throw err;\n  });\n};\n\nconst logout = async () => {\n  await doRequest({\n    url: '/api/usuario/cerrarsesion',\n    method: 'post',\n    body: {}\n  }).then(() => {\n    if (onSuccess) {\n      onSuccess();\n    } else {\n      () => Router.push(Router.query.redirect || PAGE.dashboardPagePath);\n    }\n  }).catch(err => {\n    throw err;\n  });\n};\n\nexport default {\n  register,\n  login,\n  logout\n};","map":null,"metadata":{},"sourceType":"module"}