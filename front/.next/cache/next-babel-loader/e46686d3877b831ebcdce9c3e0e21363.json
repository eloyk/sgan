{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext, createContext } from \"react\";\nimport axios from \"axios\";\nconst API_URL = \"https://www.sgerd.com/api/usuario/\"; // Set authentication context\n\nconst AuthContext = /*#__PURE__*/createContext({\n  user: null\n});\nexport function AuthProvider({\n  children\n}) {\n  const {\n    0: user,\n    1: setUser\n  } = useState(null);\n  useEffect(() => {\n    const currentUser = async () => {\n      const {\n        data\n      } = await axios.get(API_URL + \"usuarioactual\"); // Check whether user has logged in\n\n      if (!data.usuarioActual) {\n        setUser(null);\n        axios.post(API_URL + \"cerrarsesion\");\n      } else {\n        setUser(data.usuarioActual);\n      }\n    };\n\n    return () => currentUser();\n  }, []);\n  return __jsx(AuthContext.Provider, {\n    value: {\n      user\n    }\n  }, children);\n}\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};","map":null,"metadata":{},"sourceType":"module"}